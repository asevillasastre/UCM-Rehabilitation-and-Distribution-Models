GAMS 41.2.0  5110e5ff Nov 14, 2022          WEX-WEI x86 64bit/MS Windows - 11/26/22 12:16:20 Page 1
modelo sin tiempo reconstruccion + reparto
C o m p i l a t i o n


   2   
   3  Set
   4  j nodos. representan los asentamientos. en este modelo hemos de distinguir entre transitorios-destino-origen /0*6/
   5  ;
   6   
   7  Alias
   8  (j,i,k)
   9  ;
  10   
  11  Parameters
  12  dem(j) demanda por cada asentamiento de un unico recurso en cierta unidad continua /0 0,
  13                           1 0,
  14                           2 0,
  15                           3 0
  16                           4 3
  17                           5 1
  18                           6 1/
  19  max_ayuda maximo numero de ayuda que podemos mandar en total a la mision. se asume que se puede transportar cualquier cantidad sin coste temporal o economico alguno /3/
  20  max_puentes maximo numero de puentes que podemos reconstruir previo paso a los camiones /1/
  21  ;
  22   
  23  Table E(i,j) existe la ruta de i a j
  24      0   1   2   3   4   5   6
  25  0   0   1   1   1   0   1   0
  26  1   1   0   0   0   0   0   0
  27  2   1   0   0   0   0   0   0
  28  3   1   0   0   0   1   0   0
  29  4   0   0   0   1   0   0   0
  30  5   1   0   0   0   0   0   1
  31  6   0   0   0   0   0   1   0
  32  ;
  33   
  34  Table U(i,j) al inicio es utilizable la ruta de i a j
  35      0   1   2   3   4   5   6
  36  0   0   1   0   1   0   0   0
  37  1   1   0   0   0   0   0   0
  38  2   0   0   0   0   0   0   0
  39  3   1   0   0   0   0   0   0
  40  4   0   0   0   0   0   0   0
  41  5   0   0   0   0   0   0   1
  42  6   0   0   0   0   0   1   0
  43  ;
  44   
  45  Variables
  46  X(i,j ) flujo de i a j. es continuo. puede ser negativo si el de j a a i es positivo
  47  Y(j ) flujo que se queda en j
  48  auxZ(j) variable binaria que determina si llega alguna ayuda a j
  49   
  50  H(i,j) variable binaria que determina si habilitamos el puente de i a j
  51   
  52  Insatis
  53  Insatisaux
  54  Eq
  55  ;
  56   
  57  Positive variables Insatisaux;
  58  Binary variables H, auxZ;
  59   
  60  Equations
  61   
  62  definir_Y(j) ecuacion de flujo
  63   
  64  solo_arcos_buenos(i,j) consideramos de flujo nulo la mitad de los nodos. asi consideramos un grafo no orientado
  65   
  66  *lim_demanda(j)
  67  lim_provisiones restriccion que fija la cantidad de ayuda que podemos enviar
  68  flujo_nulo(j) en los nodos transitorios el flujo es nulo
  69   
  70   
  71  existencia_ruta(i,j)
  72  usabilidad_ruta(i,j)
  73  existencia_ruta_min(i,j) en este modelo son necesarias 2 restricciones para que el flujo sea nulo y no negativo en los arcos no existentes
  74  usabilidad_ruta_min(i,j) Ã­dem con los no usables
  75  lim_puentes
  76   
  77  def_insatisaux definimos la demanda insatisfecha
  78   
  79  def_auxZ1(j) definimos los nodos a los que llega alguna ayuda
  80  def_auxZ2(j) a los nodos transitorios no puede llegar ninguna ayuda por lo que no cuentan
  81   
  82  f_insatis funcion objetivo 1. demanda insatisfecha total
  83  f_eq funcion objetivo 2. criterio de equidad. numero de nodos a los que se les reparte alguna cantidad de ayuda
  84  ;
  85   
  86  definir_Y(j).. Y(j) =E= sum(i, X(i,j)) - sum(i, X(j,i));
  87   
  88  solo_arcos_buenos(i,j)$(ord(i)<=ord(j)).. X(j,i) =E= 0;
  89   
  90  *lim_demanda(j).. Y(j) =L= dem(j);
  91  lim_provisiones.. Y("0") =G= -max_ayuda;
  92  flujo_nulo(j)$(ord(j)>1 and ord(j)<=4).. Y(j) =E= 0;
  93   
  94  existencia_ruta(i,j).. X(i,j) =L= 99*E(i,j);
  95  usabilidad_ruta(i,j).. X(i,j) =L= 99*(U(i,j) +  H(i,j));
  96  existencia_ruta_min(i,j).. X(i,j) =G= -99*E(i,j);
  97  usabilidad_ruta_min(i,j).. X(i,j) =G= -99*(U(i,j) +  H(i,j));
  98  lim_puentes..  sum(i, sum(j, H(i,j))) =L= max_puentes;
  99   
 100  def_insatisaux(j)$(ord(j)>=5).. Insatisaux =G= dem(j) - Y(j);
 101   
 102  def_auxZ1(j)$(ord(j)>=5).. auxZ(j) =L= 99*Y(j);
 103  def_auxZ2(j)$(ord(j)<=4).. auxZ(j) =E= 0;
 104   
 105  f_eq.. Eq =E= sum(j, auxZ(j));
 106  f_insatis.. Insatis =E= sum(j, Insatisaux);
 107   
 108  model modelo1 /all/;
 109   
 110  solve modelo1 using MIP minimizing Insatis;
 111  solve modelo1 using MIP maximizing Eq;


COMPILATION TIME     =        0.094 SECONDS      3 MB  41.2.0 5110e5ff WEX-WEI


USER: GAMS Demo license for Antonio Sevilla Sastre   G221121|0002CO-GEN
      UCM, Spain                                               DL079880


**** FILE SUMMARY

Input      G:\Mi unidad\TFG\src\modelo_ij_ejemplo_grande.gms
Output     G:\Mi unidad\TFG\src\modelo_ij_ejemplo_grande.lst
